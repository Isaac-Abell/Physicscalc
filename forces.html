<!DOCTYPE html>
<html>
  <!--Appearance-->
  <header class="header" id="myHeader">
      <h1>Momentum (Velocity Only)</h1>
      </header>
  <body>
  <br> 
    <div class="sidebar">
      <a href="https://thegoodestboi41968.github.io/Physicscalc/index.html"> Kinematics</a>
      <a href="https://thegoodestboi41968.github.io/Physicscalc/forces.html">Momentum</a>
      <a href="https://thegoodestboi41968.github.io/Physicscalc/nrg.html">Energy</a>
    </div>
  <p>When typing in angles, refer to this chart.</p>
  <div class="imageContainer">
    <img src="./circle.png" width="100" height="100">
  </div>
  <br>
  </br>
  <!--imput buttons-->
  <form>
    <input type="button" class="btn" value="Add Initial" onclick="add()"></input>
    <input type="button" class="btn" value="Add Final " onclick="addfinal()"></input>
    <br>
  </br>
    <input type="button" class="btn" value="Remove Initial" onclick="remove()"></input>
    <input type="button" class="btn" value="Remove Final" onclick="removefinal()"></input>
    <br>
  </br>
  <button type ="submit" class="btn" onclick=calculate()>Calculate</button>
    </form>
    <br>
  </br>
  <div id="el">
 <p>Initial Velocities</p>
 <br>
  </br>
  <div id="initial"></div>
    <br>
  </br>
    <p>Final Velocities</p>
    <br>
  </br>
  <div id="final"></div>
</div>
<br>
</br>   <br>
</br>   <br>
</br>
  <!-- 
      <noscript>
      <strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div id="app"></div>
    built files will be auto injected -->
  </body>
</html>
      <script>
        //Please stop looking at my code, it's bad
        //create code that only makes 1 final and 2 initial
        //create code that makes 2 final
          var totalx=0;
          var totaly=0;
          var totalvelocity=0;
        function calculate(){
          var totalnon=0;
          var value=0;
          var initial = document.getElementById("initial").getElementsByClassName("entr");
          var final = document.getElementById("final").getElementsByClassName("entr");
          //makes sure there is only 1 unknown
          for (var i=0; i<initial.length; i=i+1){
            if (isNaN(initial[i].value)){
              if ((i-1)%3==0){
                value=i;
                totalnon=totalnon+1;
                i=i+1;
              }
              else{
              totalnon=totalnon+1;
              value=i;
                 }
              }
          }
    //if there is only 1 unkown will calculate momentum
        if (totalnon==1){
            if ((value%3)==0){
              window.alert("Sorry, this only solves for velocity")
            }
            if (((value-1)%3)==0){
              calculateVelocity(value,final,initial)
            }
            if (((value-2)%3)==0){
              calculateAngle(value)
            }
          }
          if (totalnon>1){
            window.alert("Not enough information to solve the problem.")
          }
          if (totalnon==0){
            calculatefinal();
          }
        }




          function calculatefinal(){
          var totalnon=0;
          var value=0;
          var initial = document.getElementById("initial").getElementsByClassName("entr");
          var final = document.getElementById("final").getElementsByClassName("entr");
          //makes sure there is only 1 unknown
          for (var i=0; i<final.length; i=i+1){
            if (isNaN(final[i].value)){
              if ((i-1)%3==0){
                value=i;
                totalnon=totalnon+1;
                i=i+1;
              }
              else{
              totalnon=totalnon+1;
              value=i;
                 }
              }
          }

    //if there is only 1 unkown will calculate momentum
        if (totalnon==1){
            if ((value%3)==0){
              window.alert("Sorry, this only solves for velocity")
            }
            if (((value-1)%3)==0){
              calculateVelocity(value,initial,final)
            }
            if (((value-2)%3)==0){
              calculateAngle(value)
            }
          }
          if (totalnon>1){
            window.alert("Not enough information to solve the problem.")
          }
          if (totalnon==0){
            window.alert("No unknowns")
          }

      }
      //x and y velocity calcuator
      function calculateVelocity(value,final,initial){
        for (var i=0; i<final.length; i=i+3){
          if ((final[i+2].value)<=90){
            totalx=totalx+((final[i].value)*(final[i+1].value)*cosDegrees((90-(final[i+2].value))));
            totaly=totaly+((final[i].value)*(final[i+1].value)*sinDegrees((90-(final[i+2].value))));
          }
          else if ((final[i+2].value)>90 && (final[i+2].value)<=180){
            totalx=totalx+((final[i].value)*(final[i+1].value)*sinDegrees((180-(final[i+2].value))));
            totaly=totaly-((final[i].value)*(final[i+1].value)*cosDegrees((180-(final[i+2].value))));
          }
          else if ((final[i+2].value)>180 && (final[i+2].value)<=270){
            totalx=totalx-(((final[i].value)*(final[i+1].value)*(cosDegrees((270-(final[i+2].value))))));
            totaly=totaly-(((final[i].value)*(final[i+1].value)*(sinDegrees((270-(final[i+2].value))))));
          }
          else if ((final[i+2].value)>270 && (final[i+2].value)<=360){
            totalx=totalx-((final[i].value)*(final[i+1].value)*cosDegrees(((final[i+2].value))-270));
            totaly=totaly+((final[i].value)*(final[i+1].value)*sinDegrees(((final[i+2].value))-270));
          }
        }
        for (var i=0; i<initial.length; i=i+3){
          if ((i+1)!=value){
          if ((initial[i+2].value)<=90){
            totalx=totalx-((initial[i].value)*(initial[i+1].value)*cosDegrees((90-(initial[i+2].value))));
            totaly=totaly-((initial[i].value)*(initial[i+1].value)*sinDegrees((90-(initial[i+2].value))));
          }
          else if ((initial[i+2].value)>90  && (initial[i+2].value)<=180){
            totalx=totalx+((initial[i].value)*(initial[i+1].value)*sinDegrees((180-(initial[i+2].value))));
            totaly=totaly-((initial[i].value)*(initial[i+1].value)*cosDegrees((180-(initial[i+2].value))));
          }
          else if ((initial[i+2].value)>180 && (initial[i+2].value)<=270){
            totalx=totalx+((initial[i].value)*(initial[i+1].value)*cosDegrees(270-(initial[i+2].value)));
            totaly=totaly-((initial[i].value)*(initial[i+1].value)*sinDegrees(270-(initial[i+2].value)));
          }
          else if ((initial[i+2].value)>270 && (initial[i+2].value)<=360){
            totalx=totalx+((initial[i].value)*(initial[i+1].value)*cosDegrees((initial[i+2].value)-270));
            totaly=totaly-((initial[i].value)*(initial[i+1].value)*sinDegrees((initial[i+2].value)-270));
          }
        }
        }
        //total velocity calcuator
        if (totalx==0 && totaly==0){
          window.alert("Velocity = "+0+"m/s.  Angle = "+0+" degrees ")
        }
          totalx=totalx/(initial[value-1].value);
          totaly=totaly/(initial[value-1].value);
          totalvelocity=Math.sqrt(Math.pow(totalx,2)+Math.pow(totaly,2));
          //angle calculator
        if(totalx>0){
          if (totaly<0){
            angle=(totalx/totaly);
            angle=(((tanDegrees(Math.abs(angle)))));
            angle=(90-angle)+90;
          }
          else if (totaly>0){
            angle=(totaly/totalx);
            angle=(((tanDegrees(Math.abs(angle)))));
            angle=(90-angle);
          }
          else if (totaly==0){
            angle=90;
          }

        }
        else if(totalx<0){
          if (totaly<0){
            angle=(totaly/totalx);
            angle=(((tanDegrees(Math.abs(angle)))));
            angle=(90-angle)+180;
          }
          else if (totaly>0){
            angle=(totalx/totaly);
            angle=(((tanDegrees(Math.abs(angle)))));
            angle=(90-angle)+270;
          }
          else if (totaly==0){
            angle=270;
          }

        }
        else if (totalx==0){
          if(totaly<0){
            angle=180;
          }
          else if(totaly>0){
            angle=0;
          }
        }
        //rounds number
        totalvelocity=totalvelocity.toFixed(5)
        angle=angle.toFixed(5)
          window.alert("velocity = "+totalvelocity+"m/s.  Angle = "+angle+" degrees ")
      }

      //sin calculator
      function sinDegrees(angleDegrees) {
    return Math.sin(angleDegrees*Math.PI/180);
};


//cos calculator
function cosDegrees(angleDegrees) {

    return Math.cos(angleDegrees*Math.PI/180);

};

//angle calculaor
function tanDegrees(angleDegrees) {
    return ((Math.atan(angleDegrees)*180/Math.PI));
};
        function calculateAngle(value){
          window.alert("Sorry, this only calculates velocity")
        }
        var initiallength=0;
        var finallength=0;
        //function to add imput boxes
              function add() { 
                initiallength++; 
             var x= document.createElement("INPUT");
             var z= document.createElement("br")
             z.setAttribute("class","break")
             x.setAttribute("type", "text");
             x.setAttribute("placeholder", "Mass"+initiallength);
             x.setAttribute("class", "entr");
             x.setAttribute("Value", "Mass"+initiallength);
             document.getElementById("initial").appendChild(x);
             var y= document.createElement("INPUT");
             y.setAttribute("type", "text");
             y.setAttribute("placeholder", "Velocity"+initiallength);
             y.setAttribute("class", "entr");
             y.setAttribute("Value", "Velocity"+initiallength);
             document.getElementById("initial").appendChild(y);
             var w= document.createElement("INPUT");
             w.setAttribute("type", "text");
             w.setAttribute("placeholder", "Angle"+initiallength);
             w.setAttribute("class", "entr");
             w.setAttribute("Value", "Angle"+initiallength);
             document.getElementById("initial").appendChild(w);
             document.getElementById("initial").append(z);
        }
        function addfinal() { 
                finallength++; 
             var x= document.createElement("INPUT");
             var z= document.createElement("br")
             z.setAttribute("class","break")
             x.setAttribute("type", "text");
             x.setAttribute("placeholder", "Mass"+finallength);
             x.setAttribute("class", "entr");
             x.setAttribute("Value", "Mass"+finallength);
             document.getElementById("final").appendChild(x);
             var y= document.createElement("INPUT");
             y.setAttribute("type", "text");
             y.setAttribute("placeholder", "Velocity"+finallength);
             y.setAttribute("class", "entr");
             y.setAttribute("Value", "Velocity"+finallength);
             document.getElementById("final").appendChild(y);
             var w= document.createElement("INPUT");
             w.setAttribute("type", "text");
             w.setAttribute("placeholder", "Angle"+finallength);
             w.setAttribute("class", "entr");
             w.setAttribute("Value", "Angle"+finallength);
             document.getElementById("final").appendChild(w);
             document.getElementById("final").append(z);
        }
        //removes text boxes
        function remove() {
          var childs = document.getElementById("initial").getElementsByClassName("entr");
          var br = document.getElementById("initial").getElementsByClassName("break");
          if(childs.length > 0) {
            initiallength--;
            document.getElementById("initial").removeChild(childs[childs.length - 1]);
            document.getElementById("initial").removeChild(childs[childs.length - 1]);
            document.getElementById("initial").removeChild(childs[childs.length - 1]);
            document.getElementById("initial").removeChild(br[br.length - 1]);
          }
        }
        function removefinal() {
          var childs = document.getElementById("final").getElementsByClassName("entr");
          var br = document.getElementById("final").getElementsByClassName("break");
          if(childs.length > 0) {
            finallength--;
            document.getElementById("final").removeChild(childs[childs.length - 1]);
            document.getElementById("final").removeChild(childs[childs.length - 1]);
            document.getElementById("final").removeChild(childs[childs.length - 1]);
            document.getElementById("final").removeChild(br[br.length - 1]);
          }
        }

//scrilling animation so header follows rest of page
window.onscroll = function() {myFunction()};

var header = document.getElementById("myHeader");
var sticky = header.offsetTop;

function myFunction() {
  if (window.pageYOffset > sticky) {
    header.classList.add("sticky");
  } else {
    header.classList.remove("sticky");
  }
}
</script>
<!--appearanace-->
<style>
  * {
   box-sizing:  border-box;
   margin: 0;
   Padding: 0;
 }
 .btn{
 width: 175px;
 border: 2px solid #aaa;
 border-radius: 4px;
 outline: none;
 padding: 8px;
 background: rgb(52,183,143);
 color: rgb(250,250,250);
 box-sizing:border-box;
 }
 .btn:hover{
 border-color: rgb(52,183,143);
 box-shadow: 0 0 8px rgb(52,183,143);
 }
   .entr{
 width: 300px;
 background: rgb(220,220,220);
 border: 2px solid #aaa;
 border-radius: 4px;
 outline: none;
 padding: 8px;
 color: rgb(30,30,30);
 box-sizing:border-box;
 }
 .entr:hover{
 border-color: rgb(52,183,143);
 box-shadow: 0 0 8px rgb(52,183,143);
 }
 .entr:focus{
 border-color: rgb(52,183,143);
 box-shadow: 0 0 8px rgb(52,183,143);
 }
.header {
  background-position-x: center; 
  background: rgb(50,50,50);
   color: rgb(255,255,255);
   text-align: center;
   padding: 12px;
 }
body{
  font-family: Helvetica, Arial, sans-serif;
  text-align: center;
  color: rgb(30,30,30);
  Background: rgb(230,230,230)
}
.display{
    display: none;
}
.sidebar {
  height: 100%;
  width: 160px;
  position: fixed;
  z-index: 1;
  top: 44px;
  left: 0;
  background-color: rgb(50,50,50);
  overflow-x: hidden;
  padding-top: 16px;
}

.sidebar a {
  padding: 20px 8px 20px 16px;
  text-decoration: none;
  font-size: 15px;
  color:rgb(230,230,230);
  display: block;
}

.sidebar a:hover {
  background:rgb(32,163,123);
}

.main {
  margin-left: 160px; /* Same as the width of the sidenav */
  padding: 0px 10px;
}

@media screen and (max-height: 450px) {
  .sidebar {padding-top: 15px;}
  .sidebar a {font-size: 18px;}
}
.content {
  padding: 16px;
}

.sticky {
  position: fixed;
  top: 0;
  width: 100%;
}

.sticky + .content {
  padding-top: 102px;
}
.imageContainer > img:hover {
  width: 500px;
  height: 500px;
}
</style>

